{{build-header
    build=build
    selectedWidths=selectedWidths
    updateSelectedWidths=(action "updateSelectedWidths")
    selectNumColumns=(action "selectNumColumns")
    selectedNumColumns=selectedNumColumns
}}
{{build-header-spacer}}

{{#if build.isPending}}
  <div class="container container--fixedWidth Alert Alert--warning">
    <strong>Waiting for snapshot uploads...</strong> This build has not finished receiving data from your CI service or client, <a href="javascript:location.reload()">refresh</a>?
    <br>
    If this has been pending for a long time, your client may have failed to upload all the data. This build can be safely ignored, it will not be used for visual diffs.
  </div>
{{/if}}
{{#if build.isProcessing}}
  <div class="container container--fixedWidth Alert Alert--warning">
    <strong>Still working!</strong> This build has not finished processing, <a href="javascript:location.reload()">refresh</a>?
  </div>
{{/if}}
{{#if build.isFailed}}
  <div class="container container--fixedWidth Alert Alert--error">
    <strong>Errored.</strong> Your CI service or client failed to correctly upload data. This build can be safely ignored, it will not be used for visual diffs. If these failures continue to happen, check your CI or client logs for failures.
  </div>
{{/if}}

{{#if build.comparisons.isPending}}
  {{loading-page}}
{{else}}
  {{comparison-list
      comparisons=build.comparisons
      selectedWidths=selectedWidths
      selectedNumColumns=selectedNumColumns
  }}
{{/if}}